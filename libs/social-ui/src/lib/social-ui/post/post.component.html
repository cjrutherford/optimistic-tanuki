<otui-card class="post-container" [ngClass]="'background-gradient-' + theme">
  <div class="post-header">
    @if (profile) {
      <div class="post-profile">
        <lib-profile-photo [src]="profile.avatar" [alt]="profile.name"></lib-profile-photo>
        {{profile.name}}
      </div>
    }
    <div class="title">{{ content.title }}</div>
    <div class="subtitle">{{ content.createdAt | date }}</div>
  </div>
  <div class="content">
    <div class="post-content" [innerHTML]="content.content"></div>
    @if (attachments.length > 0) {
      <div class="post-attachment">
        <h3>Attachments</h3>
        <otui-grid [columns]="6" [rows]="attachmentRows"  class="attachment">
          <!-- Display attachment details here -->
          @for (attachment of attachments; track attachment) {
            <otui-tile (click)="downloadAttachment(attachment)" target="_blank">{{ attachment.name }}</otui-tile>
          }
        </otui-grid>
      </div>
    }
    @if (links.length > 0) {
      <div class="post-link">
        <h3>Links</h3>
        <otui-grid [columns]="1" [rows]="links.length">
          @for (link of links; track link) {
            <otui-tile class="link">
              <!-- Display link details here -->
              <a [href]="link.url" target="_blank">{{ link.title }}</a>
            </otui-tile>
          }
        </otui-grid>
      </div>
    }
    <div class="actions">
      <otui-button variant="success">Like</otui-button>
      <otui-button variant="success">Share</otui-button>
      <lib-vote></lib-vote>
      <lib-comment (commentAdded)="onCommentAdd($event)"></lib-comment>
    </div>
  </div>
  <lib-comment-list [availableProfiles]="availableProfiles" (commentAdded)="onCommentReply($event)" [comments]="comments"></lib-comment-list>
</otui-card>
