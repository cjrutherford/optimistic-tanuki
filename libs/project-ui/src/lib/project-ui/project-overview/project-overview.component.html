<otui-card>
    <h2>Project Overview {{ projectName() }}</h2>
    <otui-grid [columns]="3" [rows]="9">
        <lib-summary-block
            title="Unresolved Tasks"
            [count]="6"
            (onClick)="showDetails('tasks')"
        ></lib-summary-block>
        <!-- <button (click)="showDetails('tasks')">
            <otui-tile>
                <h3>Unresolved Tasks</h3>
                <p>Details about the unresolved tasks will go here.</p>
            </otui-tile>
        </button> -->
        <lib-summary-block
            title="Unresolved Risks"
            [count]="3"
            (onClick)="showDetails('risks')"
        ></lib-summary-block>
        <!-- <button (click)="showDetails('risks')">
            <otui-tile>
                <h3>Unresolved Risks</h3>
                <p>List of unresolved risks related to the project.</p>
            </otui-tile>
        </button> -->
        <lib-summary-block
            title="Pending Changes"
            [count]="2"
            (onClick)="showDetails('changes')"
        ></lib-summary-block>
        <!-- <button (click)="showDetails('changes')">
            <otui-tile>
                <h3>Pending Changes</h3>
                <p>List of pending changes associated with the project.</p>
            </otui-tile>
        </button> -->
        @if (detailsShown()) {
            <otui-tile style="grid-column: span 3; grid-row: span 4;" class="parent-container">
                @if (shownDetails() === 'tasks') {
                    <lib-tasks-table style="width: 100%; height: 100%;" ></lib-tasks-table>
                } @else if (shownDetails() === 'risks') {
                    <lib-risks-table style="width: 100%; height: 100%;" ></lib-risks-table>
                } @else if (shownDetails() === 'changes') {
                    <lib-changes-table style="width: 100%; height: 100%;" ></lib-changes-table>
                }
                <otui-button (click)="hideDetails()" class="close-button">X</otui-button>
            </otui-tile>
        }
        <otui-tile style="grid-column: span 3;">
            <h3>Ai Project Summary</h3>
            <p>An Overview of the project provided by your AI Project Manager.</p>
        </otui-tile>
        <otui-tile style="grid-column: span 3; grid-row: span 3">
            <h3>Project Journal</h3>
            <p>Recent updates and notes about the project.</p>
            <lib-project-journal-table style="width: 100%; height: 100%;"></lib-project-journal-table>
        </otui-tile>
    </otui-grid>
</otui-card>
